# Iteration 4: Investigation Mechanics, Advanced Inventory, and Mall/Trading Floor Assets

## Goals
- Implement investigation and evidence collection mechanics
- Develop advanced inventory system for item management
- Add system for logging known assimilated NPCs
- Implement overflow storage in player's room
- Create assets for Mall and Trading Floor districts
- Design interactive objects for investigation

## Tasks
- [ ] Task 1: Develop advanced inventory features including categorization
- [ ] Task 2: Create puzzles for accessing restricted areas
- [ ] Task 3: Implement clue discovery and collection system
- [ ] Task 4: Create assimilated NPC tracking log
- [ ] Task 5: Develop investigation evidence tracking
- [ ] Task 6: Implement overflow inventory storage in player's room
- [ ] Task 7: Create UI for transferring items between personal inventory and room storage
- [ ] Task 8: Design Mall main floor background with animated elements
- [ ] Task 9: Create Bar and Restaurant backgrounds
- [ ] Task 10: Design Trading Floor main area background
- [ ] Task 11: Create Bank background with teller stations
- [ ] Task 12: Design generic patron NPCs for Mall (multiple variations)
- [ ] Task 13: Create specialized Mall NPCs (bartender, waitress, cashiers)
- [ ] Task 14: Design Trading Floor NPCs (brokers, bank personnel)
- [ ] Task 15: Create interactive objects for investigation (documents, terminals, evidence items)
- [ ] Task 16: Develop animated transition effects between districts
- [ ] Task 17: Create ship crew sprites (captain and flight attendants)
- [ ] Task 18: Perform in-game integration testing of all Iteration 4 features

## Testing Criteria
- Player can collect, categorize, and use items/evidence
- Puzzles can be solved to progress investigation
- Player can track which NPCs are known to be assimilated
- Investigation evidence can be gathered and reviewed
- Player can store extra items in their room
- Inventory management creates meaningful gameplay decisions
- Mall and Trading Floor districts are visually complete and consistent with game style
- All NPCs necessary for Mall and Trading Floor areas are implemented
- Investigation objects can be discovered, collected and analyzed
- Transition effects between districts work correctly

## Timeline
- Start date: 2025-06-21
- Target completion: 2025-07-19 (4 weeks)

## Dependencies
- Iteration 2 (NPC Framework and Suspicion System)
- Iteration 3 (Game Districts, Time Management, and Asset Expansion)

## Code Links
- No links yet

## Notes
This iteration expands the game with two additional districts (Mall and Trading Floor) that are critical for the main investigation storyline. The investigation mechanics will allow players to gather evidence about the assimilation conspiracy, while the quest system will help track their progress. The Mall will serve as a social hub where players can observe NPC behavior and identify potential assimilated individuals, while the Trading Floor introduces financial elements that tie into the corporate conspiracy.