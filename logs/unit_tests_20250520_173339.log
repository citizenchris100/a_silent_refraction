=== Test: coordinate_manager_test ===
Exit code: 0
Godot Engine v3.5.2.stable.official.170ba337a - https://godotengine.org
OpenGL ES 2.0 Renderer: Mesa Intel(R) Graphics (ADL GT2)
 
[DEBUG SINGLETON] Initialized - Press backtick (`) key for console
CoordinateManager initialized
[COORD_TEST_NEW] Setting up CoordinateManager test (NEW VERSION)...
[COORD_TEST_NEW] Creating mock district and camera
MockDistrict.set_camera() called with: Camera2D:[Camera2D:1275]
[COORD_TEST_NEW] Created mock district with camera reference
[COORD_TEST_NEW] Creating CoordinateManager instance
CoordinateManager: Current district set to Test District
CoordinateManager initialized
[COORD_TEST_NEW] CoordinateManager instance created and configured
MockDistrict.get_camera() called, returning: Camera2D:[Camera2D:1275]
[COORD_TEST_NEW] Mock district camera reference working correctly
[COORD_TEST_NEW] Starting tests...
[COORD_TEST_NEW] Starting CoordinateManager tests...
[COORD_TEST_NEW] === Running Basic Tests ===
[COORD_TEST_NEW] Running test: test_district_setup
[COORD_TEST_NEW] Testing district setup
[COORD_TEST_NEW] âœ“ PASS: test_district_setup
[COORD_TEST_NEW] Test completed: test_district_setup
[COORD_TEST_NEW] Running test: test_camera_access
[COORD_TEST_NEW] Testing camera access through district
MockDistrict.get_camera() called, returning: Camera2D:[Camera2D:1275]
MockDistrict.get_camera() called, returning: Camera2D:[Camera2D:1275]
[COORD_TEST_NEW] âœ“ PASS: test_camera_access
[COORD_TEST_NEW] Test completed: test_camera_access
[COORD_TEST_NEW] Running test: test_screen_to_world
[COORD_TEST_NEW] Testing screen_to_world conversion
MockDistrict.get_camera() called, returning: Camera2D:[Camera2D:1275]
[COORD_TEST_NEW] âœ“ PASS: test_screen_to_world
[COORD_TEST_NEW] Test completed: test_screen_to_world
[COORD_TEST_NEW] Running test: test_world_to_screen
[COORD_TEST_NEW] Testing world_to_screen conversion
MockDistrict.get_camera() called, returning: Camera2D:[Camera2D:1275]
[COORD_TEST_NEW] âœ“ PASS: test_world_to_screen
[COORD_TEST_NEW] Test completed: test_world_to_screen
[COORD_TEST_NEW] Running test: test_view_mode
[COORD_TEST_NEW] Testing view mode switching
CoordinateManager: View mode changed to WORLD_VIEW
CoordinateManager: View mode changed to GAME_VIEW
[COORD_TEST_NEW] âœ“ PASS: test_view_mode
[COORD_TEST_NEW] Test completed: test_view_mode
[COORD_TEST_NEW] === Running Enhanced Tests ===
[COORD_TEST_NEW] Running test: test_precise_coordinate_transformations
[COORD_TEST_NEW] Testing precise coordinate transformations
MockDistrict.get_camera() called, returning: Camera2D:[Camera2D:1275]
[COORD_TEST_NEW] Screen center test: PASS
MockDistrict.get_camera() called, returning: Camera2D:[Camera2D:1275]
[COORD_TEST_NEW] Screen offset test: PASS
MockDistrict.get_camera() called, returning: Camera2D:[Camera2D:1275]
MockDistrict.get_camera() called, returning: Camera2D:[Camera2D:1275]
[COORD_TEST_NEW] Round trip test: PASS
[COORD_TEST_NEW] âœ“ PASS: test_precise_coordinate_transformations
[COORD_TEST_NEW] Test completed: test_precise_coordinate_transformations
[COORD_TEST_NEW] Running test: test_scale_factor_application
[COORD_TEST_NEW] Testing scale factor application
[COORD_TEST_NEW] Set test scale factor to 3.0
[COORD_TEST_NEW] Game to World test: PASS
[COORD_TEST_NEW] World to Game test: PASS
[COORD_TEST_NEW] âœ“ PASS: test_scale_factor_application
[COORD_TEST_NEW] Test completed: test_scale_factor_application
[COORD_TEST_NEW] Running test: test_coordinate_array_transformations
[COORD_TEST_NEW] Testing coordinate array transformations
[COORD_TEST_NEW] âœ“ PASS: test_coordinate_array_transformations
[COORD_TEST_NEW] Test completed: test_coordinate_array_transformations
[COORD_TEST_NEW] Running test: test_edge_cases
[COORD_TEST_NEW] Testing edge case handling
ERROR: CoordinateManager: screen_to_world - No camera found
   at: call (modules/gdscript/gdscript_functions.cpp:775)
[COORD_TEST_NEW] Null district test: PASS
MockDistrict.get_camera() called, returning: Camera2D:[Camera2D:1275]
[COORD_TEST_NEW] Extreme coordinates test: PASS
[COORD_TEST_NEW] Empty array test: PASS
[COORD_TEST_NEW] âœ“ PASS: test_edge_cases
[COORD_TEST_NEW] Test completed: test_edge_cases
[COORD_TEST_NEW] Running test: test_validation_for_view_modes
[COORD_TEST_NEW] Testing view mode validation
[COORD_TEST_NEW] Game view validation test: PASS
WARNING: CoordinateManager: Coordinate validation warning - Current view mode is GAME_VIEW but coordinates are expected for WORLD_VIEW
     at: call (modules/gdscript/gdscript_functions.cpp:789)
WARNING: For walkable areas that span the entire background, coordinates should be captured in WORLD_VIEW mode
     at: call (modules/gdscript/gdscript_functions.cpp:789)
WARNING: Press 'Alt+W' to switch to WORLD_VIEW mode before capturing coordinates
     at: call (modules/gdscript/gdscript_functions.cpp:789)
[COORD_TEST_NEW] View mode mismatch test: PASS
[COORD_TEST_NEW] âœ“ PASS: test_validation_for_view_modes
[COORD_TEST_NEW] Test completed: test_validation_for_view_modes
[COORD_TEST_NEW] All tests completed.
[COORD_TEST_NEW] 
===== TEST RESULTS =====
[COORD_TEST_NEW] Total Tests: 10
[COORD_TEST_NEW] Passed: 10
[COORD_TEST_NEW] Failed: 0
[COORD_TEST_NEW] 
All tests passed! ðŸŽ‰
[COORD_TEST_NEW] Scheduling force quit in 5 seconds
[COORD_TEST_NEW] Force quitting...
[COORD_TEST_NEW] Quitting with exit code: 0
[COORD_TEST_NEW] Force quitting...
[COORD_TEST_NEW] Quitting with exit code: 0

