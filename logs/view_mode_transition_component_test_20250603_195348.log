Godot Engine v3.5.2.stable.official.170ba337a - https://godotengine.org
OpenGL ES 2.0 Renderer: Mesa Intel(R) Graphics (ADL GT2)
 
[DEBUG SINGLETON] Initialized - Press backtick (`) key for console
CoordinateManager initialized
Setting up View Mode Transition component test...
Master timeout set for 30 seconds
ScrollingCamera._ready() called - Script Path: res://src/core/camera/scrolling_camera.gd
ScrollingCamera class loaded - Script ID: 1306
[TRACE] Camera initialized with screen size: (1424, 952)
Debug drawing is disabled
No target player set
ERROR: Can't add child 'MockDebugManager' to 'ViewModeTransitionTest', already has a parent 'ViewModeTransitionTest'.
   at: add_child (scene/main/node.cpp:1282)
Test scene created with district, camera, and debug manager
[CAMERA DEBUG] CoordinateManager singleton not available for registration
WARNING: ScrollingCamera could not find a player node
Using default camera bounds based on screen size
Initializing DefaultBoundsValidator with bounds: (0, 0, 1424, 952)
BoundsValidator initialized: Reference

===== CAMERA INITIAL POSITION SETUP =====
Current camera position: (500, 300)
Initial position setting: (0, 0)
Initial view setting: right
Screen size: (1424, 952)

===== CALCULATING OPTIMAL ZOOM =====
Could not find background information - camera zoom unchanged
===== ZOOM CALCULATION COMPLETE =====

Camera half size (screen size / 2 / zoom): (712, 476)
Camera bounds: (0, 0, 1424, 952)
Background wide enough for scrolling: False
Background width: 1424, Min width for scrolling: 2136
Using RIGHT initial view setting
Centering camera on walkable area: (712, 476)
Setting camera position to: (712, 476)
Camera position after setting: (712, 476)
[CAMERA DEBUG] Checking camera position against walkable area center
Camera positioned for initial view: right at (712, 476)
View ratio: 100% of background is visible (1424 pixels of 1424 pixels)
===== CAMERA INITIAL POSITION SETUP COMPLETE =====

[CAMERA DEBUG] Camera initialized in IDLE state
Starting View Mode Transition component tests...
Running suite: View Mode Switching
===== TEST SUITE: View Mode Switching =====
Running test: Toggle World View Mode
WARNING: Missing suite in test_results: Toggle. Creating it now.
âœ“ PASS: Toggle World View Mode: Camera world_view_mode should be toggleable
Running test: Game to World View Transition
WARNING: Missing suite in test_results: Game. Creating it now.
âœ“ PASS: Game to World View Transition: World view mode flag can be toggled without errors
Running test: World to Game View Transition
Setting target_player to: TempPlayer:[Node2D:1326]
[CAMERA DEBUG] Camera state changed from IDLE to FOLLOWING_PLAYER
Setting target_player to: Null
WARNING: Setting target_player to null
WARNING: Missing suite in test_results: World. Creating it now.
âœ“ PASS: World to Game View Transition: Transitioning from world view to game view can enable player following
Suite completed: 1/1 tests passed
Running suite: Camera View Mode Behavior
===== TEST SUITE: Camera View Mode Behavior =====
Running test: Camera Zoom in World View
WARNING: Missing suite in test_results: Camera. Creating it now.
âœ“ PASS: Camera Zoom in World View: Camera zoom can be changed in world view mode
Running test: Camera Bounds in World View
âœ“ PASS: Camera Bounds in World View: Camera bounds behavior should be consistent in world view mode
Running test: Player Following in World View
Setting target_player to: MockPlayer:[Node2D:1345]
WARNING: Missing suite in test_results: Player. Creating it now.
âœ“ PASS: Player Following in World View: Camera should not follow player in world view mode
Suite completed: 1/1 tests passed
Running suite: Coordinate Transformations
===== TEST SUITE: Coordinate Transformations =====
Running test: Screen to World in View Modes
WARNING: Missing suite in test_results: Screen. Creating it now.
âœ“ PASS: Screen to World in View Modes: Screen-to-world coordinates can be obtained in both view modes
Running test: World to Screen in View Modes
âœ“ PASS: World to Screen in View Modes: World-to-screen coordinates should return valid results in both view modes
Running test: Coordinate Transformations During Transition
CoordinateManager initialized
CoordinateManager: Applied scale factor 2 to world position: (-224, -152)
WARNING: Missing suite in test_results: Coordinate. Creating it now.
âœ“ PASS: Coordinate Transformations During Transition: Coordinate transformations should respect scale factor during view mode transitions
Suite completed: 1/1 tests passed
Running suite: View Mode Detection
===== TEST SUITE: View Mode Detection =====
Running test: Detect View Mode from Debug
WARNING: CoordinateSystem class not found, skipping test
WARNING: Missing suite in test_results: Detect. Creating it now.
âœ“ PASS: Detect View Mode from Debug: CoordinateSystem should correctly detect world view mode from debug manager
Running test: CoordinateSystem View Mode Detection
WARNING: CoordinateSystem class not found, skipping test
âœ“ PASS: CoordinateSystem View Mode Detection: CoordinateSystem should correctly detect view mode in all cases
Running test: CoordinateManager View Mode Detection
CoordinateManager initialized
DEBUG: Detected World View mode via full_view_mode property
CoordinateManager: View mode changed to WORLD_VIEW
âœ“ PASS: CoordinateManager View Mode Detection: CoordinateManager should correctly detect world view mode from debug manager
Suite completed: 3/3 tests passed
Running suite: Debug Manager Integration
===== TEST SUITE: Debug Manager Integration =====
Running test: Debug Manager Controls View Mode
WARNING: Missing suite in test_results: Debug. Creating it now.
âœ“ PASS: Debug Manager Controls View Mode: Camera view mode should be controllable by debug manager
Running test: Debug Indicators in View Modes
Setting debug_draw to: True
[OVERLAY DEBUG] Created debug overlay
Setting debug_draw to: False
âœ“ PASS: Debug Indicators in View Modes: Debug indicators should handle view mode transitions without errors
Running test: Debug Coordinate Picker in View Modes
âœ“ PASS: Debug Coordinate Picker in View Modes: Debug coordinate picker should record the correct view mode
Suite completed: 3/3 tests passed
All tests completed.

===== TEST RESULTS =====
Total Tests: 15
Passed: 15
Failed: 0

All tests passed! ðŸŽ‰
Master timeout cancelled - tests completed normally
